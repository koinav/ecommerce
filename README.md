# Ecommerce Go

–ì–æ—Ç–æ–≤–æ–µ (–ø–æ—á—Ç–∏...) API-—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏, –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–Ω–ª–∞–π–Ω-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂.

## üìö –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:

- **Gin Web Framework**: –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π HTTP web framework –¥–ª—è Go (Golang).
- **MongoDB**: NoSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ —Ç–æ–≤–∞—Ä–∞—Ö.
- **Docker**: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**:
```bash
   git clone https://github.com/koinav/ecommerce.git
   cd ecommerce
```

2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**:
```bash
docker-compose up -d
```

3. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ go**:
```bash
go run main.go
```

_–¢–µ–ø–µ—Ä—å API –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é._

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –∫ –Ω–µ–º—É –¥–æ—Å—Ç—É–ø –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`.

## üìÑ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–ª–æ–∂–µ–Ω–∏–µ:

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º –∫–ª–∏–µ–Ω—Ç–∞**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–¥—Ä–µ—Å–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ —Å–ø–æ—Å–æ–±–∞—Ö –æ–ø–ª–∞—Ç—ã.
- **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω–æ–π –ø–æ–∫—É–ø–æ–∫ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ä–∞—Ç–æ—Ä–æ–≤).

–î–∞–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ.

### API-–≤—ã–∑–æ–≤—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- **SignUp (POST)** _[—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è]_

http://localhost:8000/users/signup

```json
{
  "first_name": "Zubenko",
  "last_name": "Mikhail",
  "email": "zubenko@yandex.ru",
  "password": "NewPass",
  "phone": "+79991234353"
}
```

–ï—Å–ª–∏ –≤—Å–µ —É—Å–ø–µ—à–Ω–æ, –æ—Ç–≤–µ—Ç: "Successfully signed up!"

- **LogIn (POST)** _[–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è]_

  http://localhost:8000/users/login

```json
{
  "email": "zubenko@yandex.ru",
  "password": "NewPass"
}
```

–û—Ç–≤–µ—Ç –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

```json
{
  "_id": "***********************",
  "first_name": "Zubenko",
  "last_name": "Mikhail",
  "password": "$2a$14$9OfB7vopeDdUZdGj7DP/l..//i4qw1IPdxDSkIHFEAhYsnIQ9d0XK",
  "email": "zubenko@gmail.com",
  "phone": "+79991234353",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFbWFpbCI6ImlpdmFub3ZAeWFuZGV4LnJ1IiwiRmlyc3ROYW1lIjoiSXZhbiIsIkxhc3ROYW1lIjoiSXZhbm92IiwiVWlkIjoiNjZlNmQ2MDBlZDFlMTBkZWRjM2RiMGIxIiwiZXhwIjoxNzI2NDkwNDk2fQ.yp3pDNKTkOMn6gte6cU7UJRzL-i6P6qcVxdOQtPZz_c",
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFbWFpbCI6IiIsIkZpcnN0TmFtZSI6IiIsIkxhc3ROYW1lIjoiIiwiVWlkIjoiIiwiZXhwIjoxNzI3MDA4ODk2fQ.MLomPHXbmQfWcPchaSv3w9zxsBiezMFgIP7Rf3H9SzU",
  "created_at": "2022-04-09T08:14:11Z",
  "updtaed_at": "2022-04-09T08:14:11Z",
  "user_id": "61614f539f29be942bd9df8e",
  "usercart": [],
  "address": [],
  "orders": []
}
```

- **Add Product (POST)** _[–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)]_

  http://localhost:8000/admin/addproduct

```json
{
  "product_name": "–°–º–∞—Ä—Ç—Ñ–æ–Ω Vivo",
  "price": 23000,
  "rating": 7,
  "image": "abcd.jpg"
}
```

–û—Ç–≤–µ—Ç: "Successfully added"

- **See All Products (GET)** _[–ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã]_

  http://localhost:8000/users/productview

–û—Ç–≤–µ—Ç:

```json
[
  {
    "ProductID": "66e6d619ed1e10dedc3db0b2",
    "product_name": "–°–º–∞—Ä—Ç—Ñ–æ–Ω Vivo",
    "price": 23000,
    "rating": 7,
    "image": "abcd.jpg"
  },
  {
    "ProductID": "66e7313fef58f0b665ef7c7c",
    "product_name": "Iphone",
    "price": 67000,
    "rating": 9,
    "image": "iphone.jpg"
  },
  {
    "ProductID": "66e73167ef58f0b665ef7c7d",
    "product_name": "–®—Ç–∞–Ω—ã",
    "price": 30,
    "rating": 10,
    "image": "pants.jpg"
  },
  {
    "ProductID": "66e7327cef58f0b665ef7c7e",
    "product_name": "–°–≤–µ—Ç–ª–æ–µ Pivo",
    "price": 120,
    "rating": 10,
    "image": "beer.jpg"
  }
]
```

- **Search Product (GET)** _[–ø–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä–∞–º]_

http://localhost:8000/users/search?name=IvO

–û—Ç–≤–µ—Ç:

```json
[
  {
    "ProductID": "66e6d619ed1e10dedc3db0b2",
    "product_name": "–°–º–∞—Ä—Ç—Ñ–æ–Ω Vivo",
    "price": 23000,
    "rating": 7,
    "image": "abcd.jpg"
  },
  {
    "ProductID": "66e7327cef58f0b665ef7c7e",
    "product_name": "–°–≤–µ—Ç–ª–æ–µ Pivo",
    "price": 120,
    "rating": 10,
    "image": "beer.jpg"
  }
]
```

### API-–≤—ã–∑–æ–≤—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

- **Add product to cart (GET)** _[–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É]_

  http://localhost:8000/addtocart?productID=xxxxx&userID=xxxxx

- **Remove item from cart (GET)** _[—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã]_

  http://localhost:8000/removeitem?productID=xxxxx&userID=xxxxx

- **Get user cart (GET)** _[–ø–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É –∏ –µ–µ –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å]_

  http://localhost:8000/listcart?userID=xxxxx

- **Add delivery address (POST)** _[–¥–æ–±–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏]_

  http://localhost:8000/addadress?userID=xxxxx

```json
{
  "house_name": "9",
  "street_name": "White street",
  "city_name": "Moscow",
  "post_code": "142321"
}
```

- **Edit home address (PUT)** _[–∏–∑–º–µ–Ω–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∞–¥—Ä–µ—Å]_

  http://localhost:8000/edithomeaddress?userID=xxxxx

- **Edit work address (PUT)** _[–∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø–∞—Å–Ω–æ–π –∞–¥—Ä–µ—Å]_

  http://localhost:8000/editworkaddress?userID=xxxxx

- **Delete addresses (GET)** _[—É–¥–∞–ª–∏—Ç—å –∞–¥—Ä–µ—Å–∞]_

  http://localhost:8000/deleteaddresses?userID=xxxxx

- **Cart checkout (GET)** _[–∑–∞–∫–∞–∑ –∫–æ—Ä–∑–∏–Ω—ã]_

  http://localhost:8000/cartcheckout?userID=xxxxx

- **Instant buy (GET)** _[–∫—É–ø–∏—Ç—å —Ç–æ–≤–∞—Ä –º–≥–Ω–æ–≤–µ–Ω–Ω–æ]_

  http://localhost:8000/instantbuy?userID=xxxxx&productID=xxxxx

  ![structure](structure.png)

_–ü—Ä–æ–µ–∫—Ç –µ—â–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ —É–ª—É—á—à–∞–µ—Ç—Å—è..._
